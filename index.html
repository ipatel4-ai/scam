<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine?</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: grid;
      place-items: center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, #ffd6e7, #fff1f7);
      overflow: hidden;
    }

    .card {
      background: rgba(255,255,255,0.85);
      border: 1px solid rgba(0,0,0,0.08);
      border-radius: 18px;
      padding: 28px 26px;
      box-shadow: 0 12px 35px rgba(0,0,0,0.12);
      text-align: center;
      width: min(520px, 92vw);
      position: relative;
      z-index: 2;
    }

    h1 {
      margin: 0 0 14px;
      font-size: clamp(28px, 4vw, 42px);
    }

    p {
      margin: 0 0 20px;
      color: #444;
    }

    .buttons {
      display: flex;
      gap: 14px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      position: relative;
      z-index: 2;
    }

    button {
      font-size: 18px;
      padding: 12px 22px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      transition: transform 120ms ease;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    button:active { transform: scale(0.98); }

    #yesBtn {
      background: #ff4d88;
      color: white;
    }

    /* Floating wrapper that moves around the entire screen */
    #noWrap {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      z-index: 3;

      /* Smooth motion */
      transition: left 420ms cubic-bezier(.2,.9,.2,1),
                  top  420ms cubic-bezier(.2,.9,.2,1);
      will-change: left, top;
    }

    /* Devil icon */
    #devil {
      font-size: 24px;
      line-height: 1;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.15));
      transform: translateY(1px);
    }

    #noBtn {
      background: #e9e9e9;
      color: #222;
    }

    .result {
      margin-top: 16px;
      font-size: 18px;
      font-weight: 600;
      color: #ff2f7a;
      min-height: 24px;
    }

    /* Optional: make it feel more playful */
    #noWrap.scamper {
      animation: wiggle 240ms ease-in-out;
    }

    @keyframes wiggle {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      35% { transform: translate(-50%, -50%) rotate(-4deg); }
      70% { transform: translate(-50%, -50%) rotate(3deg); }
      100% { transform: translate(-50%, -50%) rotate(0deg); }
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Do you want to be my valentine?</h1>
    <p>(Choose wisely ðŸ˜Œ)</p>

    <div class="buttons">
      <button id="yesBtn">Yes ðŸ’–</button>
      <!-- No button is now floating, so it's not inside this row -->
    </div>

    <div class="result" id="result"></div>
  </div>

  <!-- Floating "No" + devil -->
  <div id="noWrap" aria-hidden="false">
    <span id="devil" title="Nice try ðŸ˜ˆ">ðŸ˜ˆ</span>
    <button id="noBtn">No ðŸ™ƒ</button>
  </div>

  <script>
    const noWrap = document.getElementById("noWrap");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const result = document.getElementById("result");
    const card = document.querySelector(".card");

    // Keep "No" from landing on top of the main card too often
    function isOverlappingCard(x, y, w, h) {
      const r = card.getBoundingClientRect();
      const pad = 20; // extra buffer around card
      return !(
        x + w < r.left - pad ||
        x > r.right + pad ||
        y + h < r.top - pad ||
        y > r.bottom + pad
      );
    }

    function clamp(val, min, max) {
      return Math.max(min, Math.min(max, val));
    }

    function moveNoSomewhere() {
      const wrapRect = noWrap.getBoundingClientRect();
      const w = wrapRect.width;
      const h = wrapRect.height;

      // Keep within viewport with a small margin
      const margin = 12;
      const maxX = window.innerWidth - w - margin;
      const maxY = window.innerHeight - h - margin;

      let x, y, tries = 0;

      do {
        x = margin + Math.random() * Math.max(0, maxX - margin);
        y = margin + Math.random() * Math.max(0, maxY - margin);
        tries++;
      } while (isOverlappingCard(x, y, w, h) && tries < 10);

      noWrap.classList.remove("scamper");
      // force reflow so animation retriggers
      void noWrap.offsetWidth;
      noWrap.classList.add("scamper");

      noWrap.style.left = `${clamp(x, margin, maxX)}px`;
      noWrap.style.top  = `${clamp(y, margin, maxY)}px`;
    }

    // Run away if cursor gets close
    function handleMouseMove(e) {
      const rect = noWrap.getBoundingClientRect();
      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;

      const dx = e.clientX - cx;
      const dy = e.clientY - cy;
      const dist = Math.hypot(dx, dy);

      // Sensitivity: lower = easier to trigger
      const triggerDistance = 140;

      if (dist < triggerDistance) {
        moveNoSomewhere();
      }
    }

    // Desktop: detect proximity anywhere on page
    window.addEventListener("mousemove", handleMouseMove);

    // Mobile: run away on touch near it
    noWrap.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoSomewhere();
    }, { passive: false });

    // Extra safety: if clicked, still escape
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      moveNoSomewhere();
    });

    yesBtn.addEventListener("click", () => {
      result.textContent = "YAY!!! ðŸ’˜ðŸ’˜ See you on Valentineâ€™s ðŸ˜„";
      yesBtn.disabled = true;
      noWrap.style.display = "none";
    });

    // Initial placement (near the button row area)
    window.addEventListener("load", () => {
      // Start it somewhere visible but not blocking the card
      noWrap.style.left = "62%";
      noWrap.style.top = "62%";
      // After a moment, let it "settle" nicely
      setTimeout(() => moveNoSomewhere(), 250);
    });

    window.addEventListener("resize", () => {
      // Keep it on-screen if viewport changes
      moveNoSomewhere();
    });
  </script>
</body>
</html>

